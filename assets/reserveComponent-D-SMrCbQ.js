import{u as ge,m as ke,g as Z,h as xe,d as Ve,V as Ce,a as we,i as Te,b as F,c as z}from"./VBreadcrumbs-Byt9hhn7.js";import{n as L,p as A,r as O,c as T,w as s,E as R,Q as te,J as v,R as ne,q as Se,t as _e,S as Be,s as q,A as Ie,U as ae,V as Pe,v as $e,h as We,i as le,B as se,I as Ee,b as N,W as He,x as H,y as Re,X as Xe,_ as Ye,k as j,L as i,m as c,M as r,P as g,Y as Me,Z as k,$ as x,a0 as I}from"./index-DmsfMaAj.js";import{V as U,b as Le,c as Ae}from"./VCard-B6YlYG0U.js";import{q as Ge,a as G,k as V,l as ze,r as De,b as oe,m as ie,s as Oe,M as Fe,v as Ue,w as qe,c as Ne,x as Je,y as K}from"./VBtn-DBDIamCg.js";import{f as Qe,a as Ze,s as je}from"./VTextField-CgVMKtB3.js";import{u as Ke,a as pe}from"./scopeId-CO44OYK5.js";import"./index-Pnu1B42D.js";import"./VTable-CHfaKaSq.js";const J=Symbol.for("vuetify:v-tabs"),et=A({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...te(ze({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),M=L()({name:"VTab",props:et(),setup(e,t){let{slots:l,attrs:a}=t;const{textColorClasses:u,textColorStyles:d}=Ge(e,"sliderColor"),n=O(),o=O(),b=T(()=>e.direction==="horizontal"),w=T(()=>{var S,f;return((f=(S=n.value)==null?void 0:S.group)==null?void 0:f.isSelected.value)??!1});function $(S){var h,m;let{value:f}=S;if(f){const _=(m=(h=n.value)==null?void 0:h.$el.parentElement)==null?void 0:m.querySelector(".v-tab--selected .v-tab__slider"),X=o.value;if(!_||!X)return;const D=getComputedStyle(_).color,W=_.getBoundingClientRect(),E=X.getBoundingClientRect(),y=b.value?"x":"y",C=b.value?"X":"Y",B=b.value?"right":"bottom",P=b.value?"width":"height",fe=W[y],me=E[y],Y=fe>me?W[B]-E[B]:W[y]-E[y],be=Math.sign(Y)>0?b.value?"right":"bottom":Math.sign(Y)<0?b.value?"left":"top":"center",he=(Math.abs(Y)+(Math.sign(Y)<0?W[P]:E[P]))/Math.max(W[P],E[P])||0,ye=W[P]/E[P]||0,Q=1.5;Ze(X,{backgroundColor:[D,"currentcolor"],transform:[`translate${C}(${Y}px) scale${C}(${ye})`,`translate${C}(${Y/Q}px) scale${C}(${(he-1)/Q+1})`,"none"],transformOrigin:Array(3).fill(be)},{duration:225,easing:je})}}return G(()=>{const S=V.filterProps(e);return s(V,R({symbol:J,ref:n,class:["v-tab",e.class],style:e.style,tabindex:w.value?0:-1,role:"tab","aria-selected":String(w.value),active:!1},S,a,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":$}),{...l,default:()=>{var f;return s(v,null,[((f=l.default)==null?void 0:f.call(l))??e.text,!e.hideSlider&&s("div",{ref:o,class:["v-tab__slider",u.value],style:d.value},null)])}})}),Qe({},n)}}),tt=e=>{const{touchstartX:t,touchendX:l,touchstartY:a,touchendY:u}=e,d=.5,n=16;e.offsetX=l-t,e.offsetY=u-a,Math.abs(e.offsetY)<d*Math.abs(e.offsetX)&&(e.left&&l<t-n&&e.left(e),e.right&&l>t+n&&e.right(e)),Math.abs(e.offsetX)<d*Math.abs(e.offsetY)&&(e.up&&u<a-n&&e.up(e),e.down&&u>a+n&&e.down(e))};function nt(e,t){var a;const l=e.changedTouches[0];t.touchstartX=l.clientX,t.touchstartY=l.clientY,(a=t.start)==null||a.call(t,{originalEvent:e,...t})}function at(e,t){var a;const l=e.changedTouches[0];t.touchendX=l.clientX,t.touchendY=l.clientY,(a=t.end)==null||a.call(t,{originalEvent:e,...t}),tt(t)}function lt(e,t){var a;const l=e.changedTouches[0];t.touchmoveX=l.clientX,t.touchmoveY=l.clientY,(a=t.move)==null||a.call(t,{originalEvent:e,...t})}function st(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:l=>nt(l,t),touchend:l=>at(l,t),touchmove:l=>lt(l,t)}}function ot(e,t){var o;const l=t.value,a=l!=null&&l.parent?e.parentElement:e,u=(l==null?void 0:l.options)??{passive:!0},d=(o=t.instance)==null?void 0:o.$.uid;if(!a||!d)return;const n=st(t.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[d]=n,ne(n).forEach(b=>{a.addEventListener(b,n[b],u)})}function it(e,t){var d,n;const l=(d=t.value)!=null&&d.parent?e.parentElement:e,a=(n=t.instance)==null?void 0:n.$.uid;if(!(l!=null&&l._touchHandlers)||!a)return;const u=l._touchHandlers[a];ne(u).forEach(o=>{l.removeEventListener(o,u[o])}),delete l._touchHandlers[a]}const ue={mounted:ot,unmounted:it},re=Symbol.for("vuetify:v-window"),de=Symbol.for("vuetify:v-window-group"),ce=A({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ie(),...oe(),...$e()},"VWindow"),p=L()({name:"VWindow",directives:{Touch:ue},props:ce(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const{themeClasses:a}=Se(e),{isRtl:u}=_e(),{t:d}=Be(),n=De(e,de),o=O(),b=T(()=>u.value?!e.reverse:e.reverse),w=q(!1),$=T(()=>{const y=e.direction==="vertical"?"y":"x",B=(b.value?!w.value:w.value)?"-reverse":"";return`v-window-${y}${B}-transition`}),S=q(0),f=O(void 0),h=T(()=>n.items.value.findIndex(y=>n.selected.value.includes(y.id)));Ie(h,(y,C)=>{const B=n.items.value.length,P=B-1;B<=2?w.value=y<C:y===P&&C===0?w.value=!0:y===0&&C===P?w.value=!1:w.value=y<C}),We(re,{transition:$,isReversed:w,transitionCount:S,transitionHeight:f,rootRef:o});const m=T(()=>e.continuous||h.value!==0),_=T(()=>e.continuous||h.value!==n.items.value.length-1);function X(){m.value&&n.prev()}function D(){_.value&&n.next()}const W=T(()=>{const y=[],C={icon:u.value?e.nextIcon:e.prevIcon,class:`v-window__${b.value?"right":"left"}`,onClick:n.prev,"aria-label":d("$vuetify.carousel.prev")};y.push(m.value?l.prev?l.prev({props:C}):s(V,C,null):s("div",null,null));const B={icon:u.value?e.prevIcon:e.nextIcon,class:`v-window__${b.value?"left":"right"}`,onClick:n.next,"aria-label":d("$vuetify.carousel.next")};return y.push(_.value?l.next?l.next({props:B}):s(V,B,null):s("div",null,null)),y}),E=T(()=>e.touch===!1?e.touch:{...{left:()=>{b.value?X():D()},right:()=>{b.value?D():X()},start:C=>{let{originalEvent:B}=C;B.stopPropagation()}},...e.touch===!0?{}:e.touch});return G(()=>ae(s(e.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},a.value,e.class],style:e.style},{default:()=>{var y,C;return[s("div",{class:"v-window__container",style:{height:f.value}},[(y=l.default)==null?void 0:y.call(l,{group:n}),e.showArrows!==!1&&s("div",{class:"v-window__controls"},[W.value])]),(C=l.additional)==null?void 0:C.call(l,{group:n})]}}),[[Pe("touch"),E.value]])),{group:n}}}),ut=A({...te(ce(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),rt=L()({name:"VTabsWindow",props:ut(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const a=le(J,null),u=se(e,"modelValue"),d=T({get(){var n;return u.value!=null||!a?u.value:(n=a.items.value.find(o=>a.selected.value.includes(o.id)))==null?void 0:n.value},set(n){u.value=n}});return G(()=>{const n=p.filterProps(e);return s(p,R({_as:"VTabsWindow"},n,{modelValue:d.value,"onUpdate:modelValue":o=>d.value=o,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),l)}),{}}}),ve=A({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ie(),...Ue(),...ke()},"VWindowItem"),ee=L()({name:"VWindowItem",directives:{Touch:ue},props:ve(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:l}=t;const a=le(re),u=Oe(e,de),{isBooted:d}=Ke();if(!a||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const n=q(!1),o=T(()=>d.value&&(a.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function b(){!n.value||!a||(n.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function w(){var m;n.value||!a||(n.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=N((m=a.rootRef.value)==null?void 0:m.clientHeight)),a.transitionCount.value+=1)}function $(){b()}function S(m){n.value&&Ee(()=>{!o.value||!n.value||!a||(a.transitionHeight.value=N(m.clientHeight))})}const f=T(()=>{const m=a.isReversed.value?e.reverseTransition:e.transition;return o.value?{name:typeof m!="string"?a.transition.value:m,onBeforeEnter:w,onAfterEnter:b,onEnterCancelled:$,onBeforeLeave:w,onAfterLeave:b,onLeaveCancelled:$,onEnter:S}:!1}),{hasContent:h}=ge(e,u.isSelected);return G(()=>s(Fe,{transition:f.value,disabled:!d.value},{default:()=>{var m;return[ae(s("div",{class:["v-window-item",u.selectedClass.value,e.class],style:e.style},[h.value&&((m=l.default)==null?void 0:m.call(l))]),[[He,u.isSelected.value]])]}})),{groupItem:u}}}),dt=A({...ve()},"VTabsWindowItem"),ct=L()({name:"VTabsWindowItem",props:dt(),setup(e,t){let{slots:l}=t;return G(()=>{const a=ee.filterProps(e);return s(ee,R({_as:"VTabsWindowItem"},a,{class:["v-tabs-window-item",e.class],style:e.style}),l)}),{}}});function vt(e){return e?e.map(t=>Xe(t)?t:{text:t,value:t}):[]}const ft=A({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...xe({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Je(),...oe()},"VTabs"),mt=L()({name:"VTabs",props:ft(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:l,slots:a}=t;const u=se(e,"modelValue"),d=T(()=>vt(e.items)),{densityClasses:n}=qe(e),{backgroundColorClasses:o,backgroundColorStyles:b}=Ne(H(e,"bgColor")),{scopeId:w}=pe();return Re({VTab:{color:H(e,"color"),direction:H(e,"direction"),stacked:H(e,"stacked"),fixed:H(e,"fixedTabs"),sliderColor:H(e,"sliderColor"),hideSlider:H(e,"hideSlider")}}),G(()=>{const $=Z.filterProps(e),S=!!(a.window||e.items.length>0);return s(v,null,[s(Z,R($,{modelValue:u.value,"onUpdate:modelValue":f=>u.value=f,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},n.value,o.value,e.class],style:[{"--v-tabs-height":N(e.height)},b.value,e.style],role:"tablist",symbol:J},w,l),{default:()=>{var f;return[((f=a.default)==null?void 0:f.call(a))??d.value.map(h=>{var m;return((m=a.tab)==null?void 0:m.call(a,{item:h}))??s(M,R(h,{key:h.text,value:h.value}),{default:a[`tab.${h.value}`]?()=>{var _;return(_=a[`tab.${h.value}`])==null?void 0:_.call(a,{item:h})}:void 0})})]}}),S&&s(rt,R({modelValue:u.value,"onUpdate:modelValue":f=>u.value=f,key:"tabs-window"},w),{default:()=>{var f;return[d.value.map(h=>{var m;return((m=a.item)==null?void 0:m.call(a,{item:h}))??s(ct,{value:h.value},{default:()=>{var _;return(_=a[`item.${h.value}`])==null?void 0:_.call(a,{item:h})}})}),(f=a.window)==null?void 0:f.call(a)]}})])}),{}}}),bt={data:()=>({alertHandle:!0}),methods:{},mounted(){},components:{dataTableServer:Ve}},ht={class:"alertCard"},yt={class:"grp"};function gt(e,t,l,a,u,d){return c(),j(Ce,{class:"container bookshelfContainer"},{default:i(()=>[s(we,{items:["首頁","節點","節點"]}),r("h2",null,[t[3]||(t[3]=g(" 預約取書 ")),s(Te,{transition:"slide-y-transition"},{activator:i(({props:n})=>[s(K,R({icon:"mdi-help-circle",size:"x-small"},n),null,16)]),default:i(()=>[s(U,{class:"pa-2 helpCard"},{default:i(()=>[s(Le,null,{default:i(()=>t[1]||(t[1]=[r("div",{class:"title"},"操作說明",-1),r("ul",null,[r("li",null,"雙擊書格以切換「可使用」與「不可用」書格狀態。"),r("li",null,"「停用」與「使用中」不可變更書格狀態。"),r("li",null,"編輯完書格狀態後，點選「變更書格狀態」即保存設定。")],-1)])),_:1}),s(Ae,{class:"d-flex justify-end"},{default:i(()=>[s(V,{class:"bg-primary",color:"white"},{default:i(()=>t[2]||(t[2]=[g("關閉")])),_:1})]),_:1})]),_:1})]),_:1})]),s(F,{class:""},{default:i(()=>[s(z,{cols:"12",class:"d-flex justify-end btnGrp"},{default:i(()=>[s(V,{variant:"flat",color:"secondary",class:"btnWidth"},{default:i(()=>t[4]||(t[4]=[g("開始上架")])),_:1}),s(V,{color:"primary",variant:"flat"},{default:i(()=>t[5]||(t[5]=[g(" 機器人上架 ")])),_:1})]),_:1}),e.alertHandle?(c(),j(z,{key:0,cols:"12",class:"d-flex justify-end alert"},{default:i(()=>[r("div",ht,[s(K,{icon:"mdi-alert"}),t[6]||(t[6]=r("span",{class:"text"},"上架作業進行中，暫時無法操作",-1)),s(V,{icon:"mdi-close",onClick:t[0]||(t[0]=n=>e.alertHandle=!e.alertHandle),size:"small",variant:"text"})])]),_:1})):Me("",!0),t[11]||(t[11]=r("div",{class:"bookshelfStatus"},[r("ul",null,[r("li",{class:"available"},"可使用"),r("li",{class:"use"},"使用中"),r("li",{class:"useless"},"不可用"),r("li",{class:"stop"},"停用")])],-1)),s(z,{class:"d-flex pageLinkBtn"},{default:i(()=>[s(U,null,{default:i(()=>[s(mt,{"show-arrows":""},{default:i(()=>[s(M,{ripple:!1,key:"待取書架Ａ",value:"待取書架Ａ"},{default:i(()=>t[7]||(t[7]=[g(" 待取書架Ａ ")])),_:1}),s(M,{ripple:!1,key:"待取書架Ｂ",value:"待取書架Ｂ"},{default:i(()=>t[8]||(t[8]=[g(" 待取書架Ｂ ")])),_:1}),s(M,{ripple:!1,key:"待取書架Ｃ",value:"待取書架Ｃ"},{default:i(()=>t[9]||(t[9]=[g(" 待取書架Ｃ ")])),_:1}),s(M,{ripple:!1,key:"待取書架Ｄ",value:"待取書架Ｄ"},{default:i(()=>t[10]||(t[10]=[g(" 待取書架Ｄ ")])),_:1}),(c(),k(v,null,x(12,n=>s(M,{ripple:!1,key:n,value:"tab-"+n},{default:i(()=>[g(" 待取書架"+I(n),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})]),_:1}),s(F,{class:"scrollContent"},{default:i(()=>[s(z,null,{default:i(()=>[s(U,{class:"bookshelfCard",variant:"text"},{default:i(()=>[r("div",yt,[(c(),k(v,null,x(1,n=>r("div",{key:n,class:"item"},[(c(),k(v,null,x(14,o=>s(V,{key:o,class:"bg-available"},{default:i(()=>[g(I(100+n*10+o),1)]),_:2},1024)),64))])),64)),(c(),k(v,null,x(1,n=>r("div",{key:n,class:"item"},[(c(),k(v,null,x(14,o=>s(V,{key:o,class:"bg-use"},{default:i(()=>[g(I(100+n*10+o),1)]),_:2},1024)),64))])),64)),(c(),k(v,null,x(1,n=>r("div",{key:n,class:"item"},[(c(),k(v,null,x(14,o=>s(V,{key:o,class:"bg-useless"},{default:i(()=>[g(I(100+n*10+o),1)]),_:2},1024)),64))])),64)),(c(),k(v,null,x(1,n=>r("div",{key:n,class:"item"},[(c(),k(v,null,x(14,o=>s(V,{key:o,class:"bg-stop",disabled:""},{default:i(()=>[g(I(100+n*10+o),1)]),_:2},1024)),64))])),64)),(c(),k(v,null,x(1,n=>r("div",{key:n,class:"item"},[(c(),k(v,null,x(14,o=>s(V,{key:o,class:"bg-available"},{default:i(()=>[g(I(100+n*10+o),1)]),_:2},1024)),64))])),64)),(c(),k(v,null,x(1,n=>r("div",{key:n,class:"item"},[(c(),k(v,null,x(14,o=>s(V,{key:o,class:"bg-available"},{default:i(()=>[g(I(100+n*10+o),1)]),_:2},1024)),64))])),64)),(c(),k(v,null,x(1,n=>r("div",{key:n,class:"item"},[(c(),k(v,null,x(14,o=>s(V,{key:o,class:"bg-use"},{default:i(()=>[g(I(100+n*10+o),1)]),_:2},1024)),64))])),64)),(c(),k(v,null,x(1,n=>r("div",{key:n,class:"item"},[(c(),k(v,null,x(14,o=>s(V,{key:o,class:"bg-useless"},{default:i(()=>[g(I(100+n*10+o),1)]),_:2},1024)),64))])),64)),(c(),k(v,null,x(1,n=>r("div",{key:n,class:"item"},[(c(),k(v,null,x(14,o=>s(V,{key:o,class:"bg-stop",disabled:""},{default:i(()=>[g(I(100+n*10+o),1)]),_:2},1024)),64))])),64)),(c(),k(v,null,x(1,n=>r("div",{key:n,class:"item"},[(c(),k(v,null,x(14,o=>s(V,{key:o,class:"bg-available"},{default:i(()=>[g(I(100+n*10+o),1)]),_:2},1024)),64))])),64))])]),_:1})]),_:1})]),_:1}),s(F,null,{default:i(()=>[s(z,{cols:"12",class:"d-flex justify-center mt-2 btnGrp"},{default:i(()=>[s(V,{variant:"flat",color:"secondary",class:"btnWidth"},{default:i(()=>t[12]||(t[12]=[g("取消")])),_:1}),s(V,{color:"primary",variant:"flat"},{default:i(()=>t[13]||(t[13]=[g(" 變更書格狀態 ")])),_:1})]),_:1})]),_:1})]),_:1})}const It=Ye(bt,[["render",gt]]);export{It as default};
