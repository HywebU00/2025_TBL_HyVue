import{p as E,z as M,e as f,a as t,a2 as Z,a4 as le,a6 as Q,al as J,y as de,A as ce,B as fe,l as ve,f as T,C as me,F as ye,v as be,N as j,m as z,aH as ge,aV as xe,G as Ce,aW as Ve,a3 as he,aX as ke,O as ee,aY as Fe}from"./index.ed8fc8c6.js";import{c as _e,b as Ie}from"./index.46eebe47.js";import{m as X,O as Pe,u as N,M as Se,x as Be,d as we,B as Re,h as Te,e as Le,F as $e,L as Ae,i as De,Q as Ee}from"./index.2263bade.js";import{V as Me,m as Ne,a as ne,b as Oe,c as Ue,d as te,e as Ke,f as We}from"./VInput.788f492e.js";import{n as je,a as ze,s as Xe,f as ae}from"./forwardRefs.890e72a9.js";const Ye=E({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...X(),...Pe({transition:{component:_e}})},"VCounter"),qe=M()({name:"VCounter",functional:!0,props:Ye(),setup(e,v){let{slots:a}=v;const k=f(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return N(()=>t(Se,{transition:e.transition},{default:()=>[Z(t("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[a.default?a.default({counter:k.value,max:e.max,value:e.value}):k.value]),[[le,e.active]])]})),{}}});const Ge=E({floating:Boolean,...X()},"VFieldLabel"),W=M()({name:"VFieldLabel",props:Ge(),setup(e,v){let{slots:a}=v;return N(()=>t(Me,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),He=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ie=E({appendInnerIcon:Q,bgColor:String,clearable:Boolean,clearIcon:{type:Q,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Q,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>He.includes(e)},"onClick:clear":J(),"onClick:appendInner":J(),"onClick:prependInner":J(),...X(),...Be(),...we(),...de()},"VField"),oe=M()({name:"VField",inheritAttrs:!1,props:{id:String,...Ne(),...ie()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,v){let{attrs:a,emit:k,slots:l}=v;const{themeClasses:r}=ce(e),{loaderClasses:V}=Re(e),{focusClasses:A,isFocused:m,focus:u,blur:o}=ne(e),{InputIcon:F}=Oe(e),{roundedClasses:D}=Te(e),{rtlClasses:I}=fe(),P=f(()=>e.dirty||e.active),g=f(()=>!e.singleLine&&!!(e.label||l.label)),Y=ve(),d=f(()=>e.id||`input-${Y}`),q=f(()=>`${d.value}-messages`),O=T(),L=T(),U=T(),n=f(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:y,backgroundColorStyles:b}=Le(me(e,"bgColor")),{textColorClasses:x,textColorStyles:G}=$e(f(()=>e.error||e.disabled?void 0:P.value&&m.value?e.color:e.baseColor));ye(P,i=>{if(g.value){const s=O.value.$el,C=L.value.$el;requestAnimationFrame(()=>{const h=je(s),c=C.getBoundingClientRect(),$=c.x-h.x,B=c.y-h.y-(h.height/2-c.height/2),w=c.width/.75,R=Math.abs(w-h.width)>1?{maxWidth:be(w)}:void 0,K=getComputedStyle(s),p=getComputedStyle(C),se=parseFloat(K.transitionDuration)*1e3||150,re=parseFloat(p.getPropertyValue("--v-field-label-scale")),ue=p.getPropertyValue("color");s.style.visibility="visible",C.style.visibility="hidden",ze(s,{transform:`translate(${$}px, ${B}px) scale(${re})`,color:ue,...R},{duration:se,easing:Xe,direction:i?"normal":"reverse"}).finished.then(()=>{s.style.removeProperty("visibility"),C.style.removeProperty("visibility")})})}},{flush:"post"});const S=f(()=>({isActive:P,isFocused:m,controlRef:U,blur:o,focus:u}));function H(i){i.target!==document.activeElement&&i.preventDefault()}function _(i){var s;i.key!=="Enter"&&i.key!==" "||(i.preventDefault(),i.stopPropagation(),(s=e["onClick:clear"])==null||s.call(e,new MouseEvent("click")))}return N(()=>{var $,B,w,R;const i=e.variant==="outlined",s=!!(l["prepend-inner"]||e.prependInnerIcon),C=!!(e.clearable||l.clear),h=!!(l["append-inner"]||e.appendInnerIcon||C),c=()=>l.label?l.label({...S.value,label:e.label,props:{for:d.value}}):e.label;return t("div",z({class:["v-field",{"v-field--active":P.value,"v-field--appended":h,"v-field--center-affix":($=e.centerAffix)!=null?$:!n.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":s,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!c(),[`v-field--variant-${e.variant}`]:!0},r.value,y.value,A.value,V.value,D.value,I.value,e.class],style:[b.value,e.style],onClick:H},a),[t("div",{class:"v-field__overlay"},null),t(Ae,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),s&&t("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&t(F,{key:"prepend-icon",name:"prependInner"},null),(B=l["prepend-inner"])==null?void 0:B.call(l,S.value)]),t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&g.value&&t(W,{key:"floating-label",ref:L,class:[x.value],floating:!0,for:d.value,style:G.value},{default:()=>[c()]}),t(W,{ref:O,for:d.value},{default:()=>[c()]}),(w=l.default)==null?void 0:w.call(l,{...S.value,props:{id:d.value,class:"v-field__input","aria-describedby":q.value},focus:u,blur:o})]),C&&t(Ie,{key:"clear"},{default:()=>[Z(t("div",{class:"v-field__clearable",onMousedown:K=>{K.preventDefault(),K.stopPropagation()}},[t(De,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[l.clear?l.clear({...S.value,props:{onKeydown:_,onFocus:u,onBlur:o,onClick:e["onClick:clear"]}}):t(F,{name:"clear",onKeydown:_,onFocus:u,onBlur:o},null)]})]),[[le,e.dirty]])]}),h&&t("div",{key:"append",class:"v-field__append-inner"},[(R=l["append-inner"])==null?void 0:R.call(l,S.value),e.appendInnerIcon&&t(F,{key:"append-icon",name:"appendInner"},null)]),t("div",{class:["v-field__outline",x.value],style:G.value},[i&&t(j,null,[t("div",{class:"v-field__outline__start"},null),g.value&&t("div",{class:"v-field__outline__notch"},[t(W,{ref:L,floating:!0,for:d.value},{default:()=>[c()]})]),t("div",{class:"v-field__outline__end"},null)]),n.value&&g.value&&t(W,{ref:L,floating:!0,for:d.value},{default:()=>[c()]})])])}),{controlRef:U}}});function Qe(e){const v=Object.keys(oe.props).filter(a=>!ge(a)&&a!=="class"&&a!=="style");return xe(e,v)}const Je=["color","file","time","date","datetime-local","week","month"],Ze=E({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Ue(),...ie()},"VTextField"),it=M()({name:"VTextField",directives:{Intersect:Ee},inheritAttrs:!1,props:Ze(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,v){let{attrs:a,emit:k,slots:l}=v;const r=Ce(e,"modelValue"),{isFocused:V,focus:A,blur:m}=ne(e),u=f(()=>{var n;return typeof e.counterValue=="function"?e.counterValue(r.value):typeof e.counterValue=="number"?e.counterValue:((n=r.value)!=null?n:"").toString().length}),o=f(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),F=f(()=>["plain","underlined"].includes(e.variant));function D(n,y){var b,x;!e.autofocus||!n||(x=(b=y[0].target)==null?void 0:b.focus)==null||x.call(b)}const I=T(),P=T(),g=T(),Y=f(()=>Je.includes(e.type)||e.persistentPlaceholder||V.value||e.active);function d(){var n;g.value!==document.activeElement&&((n=g.value)==null||n.focus()),V.value||A()}function q(n){k("mousedown:control",n),n.target!==g.value&&(d(),n.preventDefault())}function O(n){d(),k("click:control",n)}function L(n){n.stopPropagation(),d(),ee(()=>{r.value=null,Fe(e["onClick:clear"],n)})}function U(n){var b;const y=n.target;if(r.value=y.value,((b=e.modelModifiers)==null?void 0:b.trim)&&["text","search","password","tel","url"].includes(e.type)){const x=[y.selectionStart,y.selectionEnd];ee(()=>{y.selectionStart=x[0],y.selectionEnd=x[1]})}}return N(()=>{const n=!!(l.counter||e.counter!==!1&&e.counter!=null),y=!!(n||l.details),[b,x]=Ve(a),{modelValue:G,...S}=te.filterProps(e),H=Qe(e);return t(te,z({ref:I,modelValue:r.value,"onUpdate:modelValue":_=>r.value=_,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":F.value},e.class],style:e.style},b,S,{centerAffix:!F.value,focused:V.value}),{...l,default:_=>{let{id:i,isDisabled:s,isDirty:C,isReadonly:h,isValid:c}=_;return t(oe,z({ref:P,onMousedown:q,onClick:O,"onClick:clear":L,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},H,{id:i.value,active:Y.value||C.value,dirty:C.value||e.dirty,disabled:s.value,focused:V.value,error:c.value===!1}),{...l,default:$=>{let{props:{class:B,...w}}=$;const R=Z(t("input",z({ref:g,value:r.value,onInput:U,autofocus:e.autofocus,readonly:h.value,disabled:s.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:d,onBlur:m},w,x),null),[[he("intersect"),{handler:D},null,{once:!0}]]);return t(j,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[t("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?t("div",{class:B,"data-no-activator":""},[l.default(),R]):ke(R,{class:B}),e.suffix&&t("span",{class:"v-text-field__suffix"},[t("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:y?_=>{var i;return t(j,null,[(i=l.details)==null?void 0:i.call(l,_),n&&t(j,null,[t("span",null,null),t(qe,{active:e.persistentCounter||V.value,value:u.value,max:o.value,disabled:e.disabled},l.counter)])])}:void 0})}),ae({},I,P,g)}}),pe=E({...X(),...Ke()},"VForm"),ot=M()({name:"VForm",props:pe(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,v){let{slots:a,emit:k}=v;const l=We(e),r=T();function V(m){m.preventDefault(),l.reset()}function A(m){const u=m,o=l.validate();u.then=o.then.bind(o),u.catch=o.catch.bind(o),u.finally=o.finally.bind(o),k("submit",u),u.defaultPrevented||o.then(F=>{var I;let{valid:D}=F;D&&((I=r.value)==null||I.submit())}),u.preventDefault()}return N(()=>{var m;return t("form",{ref:r,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:V,onSubmit:A},[(m=a.default)==null?void 0:m.call(a,l)])}),ae(l,r)}});export{it as V,ot as a,ie as b,oe as c,qe as d,Qe as f,Ze as m};
